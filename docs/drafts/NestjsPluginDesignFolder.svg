<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="919px" height="454px" viewBox="-0.5 -0.5 919 454" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2021-11-18T23:41:03.051Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/15.7.3 Chrome/91.0.4472.164 Electron/13.6.1 Safari/537.36&quot; etag=&quot;Gn4Mx46JMmxHRStl2nlP&quot; version=&quot;15.7.3&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;WU9u9J_hHQL08ljbpI9M&quot; name=&quot;Page-1&quot;&gt;5VhLc+M2DP41nvEelJGfaY6OG+/20J3OZDs9UxJksaFIDUVZ9v76AqRkiX6tN0qnh14k6iMIgABIfPZots73nzUrst9VAmI0DZP9aPbraDqdLMIlvgg5OORpGjpgq3nioB7wyr9Ds7JFK55A2WAOMkoJwwsfjJWUEBsPY1qr2hdLlUg8oGBb8Nwg4DVmAs7E/uKJyRz6y/Sxw78A32at5cnyyc3krBVuFJcZS1Tdg2Yvo9laK2XcKN+vQVDw/LhsrsweHdMgzT0LzEps3qIA1odv8lnLw0vy8hTMnJYdE1Wz4YAifMgFfA8KwUyqdD6aLgWaeI40jrY0wjfLCxzIqCzsd0jrYsHRmfIu+SsqWptBDRF+jqsSyL85PlSKjzduPhGeQCHUwVYDVRfsHpzTn4YYj1WmtGlN+ybcHA6cR+gH+bUYaE9Aec0cTlENx7GqpLls5r6sFCx+wzIdlJZY5bmSQWW4GKQn1UoakMlwTRHu6raid6vGauKsDPAEg+ZMBC7X44HJrniAUSyUdEckHKvCcCWZeG9uf3SCWMEDjtHWKYuh3I2fNxu6Do7IRxwV3wbt6j4r91VuCXrH42GVewxHzpNEQI335flpY/amdNdXd+jeH6ErvqB2bvj793NFbc63mlEtffA5iJUGm+VboXOF8D+PVNMwE8jVzWAN7FH/XbAsgTGHlhVpPB4JELEIUb7OuIFXbDM0WyMPRCwzucCvCQ6Z4FuJYwEp+bQDbTgSrFUDG0XyKfaFDcu5IJ64VpXmgLsIv0JtHTqlOg37IV2w70EN9fkMKgejKe7NbDAJ525NQ0Qny+a77mjdfD51WNajdPNFQ5JYQyW3R+Ud28JBQ7h+gnzNz8jXMYNtAr8qQ+x31U6gnehmwZ4gk4erVyCTSf/OKwuIecpjm/iemKM7JqNnyXJ6JcywiBG+pkZcGSdA0Y6ZPK5JeJqCdtqPtUSiLHLcxlE3dVR/FHq483T6sfrGyrfBsVprwLbfNTj/NFsikFclvaSip4bUFqrdS0eYvRhSlOzKmrs+49rNFekQyQc+V3/8duGemJKPK0mhxt8TmiLZcSGKvGND4VgqL1HU0qCkhobrVCVINrIxVzto3R8te1xx4xOsZXjuzIyc+bNIXMBQpLkGsfVrZndGq5pC23KTVZH1pLlTWureXJAofB5zq8DKcUuaVC1tbqRhXFLgT32an/p0RaeE0vxNGvEqM1xuWzMp5oZ2bhMsA9jzspkmwa5sKVYXjpXVfcO9c2ThVZ2fgsski2wcS8odOK8KfR1X6ODFhJ4jy1Pvej+Rutx45t1Z9p24xKjvc+DxX6qxdgNDGpvXs76A2AE1tns73gc0tdni8cc9rZXp97TZYvLTPQ0/uz8r7FzvL5/Zyz8=&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><rect x="0" y="0" width="442" height="453" fill="rgba(255, 255, 255, 1)" stroke="rgba(0, 0, 0, 1)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 440px; height: 1px; padding-top: 7px; margin-left: 2px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">- tymlez-platform<br />  - clients<br />    - platform-web (use v4 of kit) (deploy to dev.tymlez)<br />    - cohort-web (deploy to cohort use kit v5)<br />    - coles-web (deploy to coles account)<br /><br />  - packages<br />    - common-utils<br />    - frontend-utils<br />    - backend-utils<br /><br />    - devias-material-kit (v5)<br />    - ui-components (optional)<br /><br />    - platform-api-interfacesv(BFF interfaces)<br />    - cohort-api-interfaces (BFF interfaces)<br /><br />  - services<br />    - platform-middleware (deploy to all client accounts)<br />      - entities<br />      - migrations<br /><br />    - corehort-middleware (deploy to cohort)<br />      - entities<br />      - migrations<br /><br />    - tymlez-demo-middleware (deploy to tymlez)<br />      - entities<br />      - migrations</div></div></div></foreignObject><text x="2" y="19" fill="rgba(0, 0, 0, 1)" font-family="Courier New" font-size="12px">- tymlez-platform...</text></switch></g><rect x="461" y="0" width="457" height="351" fill="rgba(255, 255, 255, 1)" stroke="rgba(0, 0, 0, 1)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 455px; height: 1px; padding-top: 7px; margin-left: 463px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b>Notes:</b><br /><br />1. platform-middleware and client specific middleware use the same database, but they can use different migration tables to do the migration.<br /><br /><b>Tasks:</b><br /><br />1. Create cohort-middleware (it must not refer to platform middleware, it will call platform middleware via API)<br />2. Any sharable backend utils (no database access) should be move to `packages/backend-utils`<br />3. Update `tymlez-terraform` and github actions to deploy `cohort-middleware` to its own container<br />4. Update `cohort-middleware` nestjs routing to fallback non-existing routes to `platform-middleware` container<br /><br />5. Create `packages/cohort-api-interfaces`, it can refer to `packages/platform-api-interfaces`<br /><br />6. Create `cohort-web` to refer to the `packages/devias-material-kit`<br /><br />7. Update `tymlez-terraform` and github actions to deploy `cohort-web`</div></div></div></foreignObject><text x="463" y="19" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px">Notes:...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>